name: Diagnosticar error

on:
  push:
    branches: [ main ]
  workflow_dispatch:

jobs:
  diagnose:
    runs-on: ubuntu-latest
    
    steps:
    - name: Checkout code
      uses: actions/checkout@v4
    
    - name: Verificar Python
      run: |
        python --version
        echo "âœ… Python OK"
    
    - name: Verificar archivos
      run: |
        echo "ğŸ“ Archivos en el repositorio:"
        ls -la
        echo ""
        echo "ğŸ” Buscando main.py:"
        if [ -f main.py ]; then
          echo "âœ… main.py existe"
          head -5 main.py
        else
          echo "âŒ main.py NO existe"
          find . -name "*.py" -type f
        fi
    
    - name: Verificar buildozer.spec
      run: |
        if [ -f buildozer.spec ]; then
          echo "ğŸ“‹ Contenido de buildozer.spec:"
          cat buildozer.spec
        else
          echo "âš ï¸ No hay buildozer.spec"
        fi
